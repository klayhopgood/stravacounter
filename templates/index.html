<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Strava Data App</title>
    <link href="https://maxcdn.bootstrapcdn.com/bootstrap/4.5.2/css/bootstrap.min.css" rel="stylesheet">
</head>
<body>
    <div class="container">
        <h1>Welcome to Strava Data App</h1>
        <p>You are successfully logged in.</p>
        <form action="/update_preferences" method="post">
            <div class="form-check">
                <input class="form-check-input" type="checkbox" name="days_run" id="days_run" checked>
                <label class="form-check-label" for="days_run">Days run this year</label>
            </div>
            <div class="form-check">
                <input class="form-check-input" type="checkbox" name="total_kms" id="total_kms" checked>
                <label class="form-check-label" for="total_kms">Total kms run this year</label>
            </div>
            <div class="form-check">
                <input class="form-check-input" type="checkbox" name="avg_kms" id="avg_kms" checked>
                <label class="form-check-label" for="avg_kms">Average kms per week (last 4 weeks)</label>
            </div>
            {% if is_paid_user %}
            <div class="form-check">
                <input class="form-check-input" type="checkbox" name="total_elevation" id="total_elevation" {% if total_elevation %}checked{% endif %}>
                <label class="form-check-label" for="total_elevation">Total elevation gain this year</label>
            </div>
            <div class="form-check">
                <input class="form-check-input" type="checkbox" name="avg_elevation" id="avg_elevation" {% if avg_elevation %}checked{% endif %}>
                <label class="form-check-label" for="avg_elevation">Average elevation gain per week (last 4 weeks)</label>
            </div>
            <div class="form-check">
                <input class="form-check-input" type="checkbox" name="avg_pace_year" id="avg_pace_year" {% if avg_pace_year %}checked{% endif %}>
                <label class="form-check-label" for="avg_pace_year">Average pace per km this year</label>
            </div>
            <div class="form-check">
                <input class="form-check-input" type="checkbox" name="avg_pace_4weeks" id="avg_pace_4weeks" {% if avg_pace_4weeks %}checked{% endif %}>
                <label class="form-check-label" for="avg_pace_4weeks">Average pace per km per week (last 4 weeks)</label>
            </div>
            <div class="form-check">
                <input class="form-check-input" type="checkbox" name="beers_burnt" id="beers_burnt" {% if beers_burnt %}checked{% endif %}>
                <label class="form-check-label" for="beers_burnt">Number of beers burnt</label>
            </div>
            <div class="form-check">
                <input class="form-check-input" type="checkbox" name="pizza_burnt" id="pizza_burnt" {% if pizza_burnt %}checked{% endif %}>
                <label class="form-check-label" for="pizza_burnt">Number of pizza slices burnt</label>
            </div>
            <div class="form-check">
                <input class="form-check-input" type="checkbox" name="remove_try_free" id="remove_try_free" {% if remove_try_free %}checked{% endif %}>
                <label class="form-check-label" for="remove_try_free">Remove "try for free at www.blah.com"</label>
            </div>
            {% else %}
            <p>Additional data points are available for paid users:</p>
            <div class="form-check">
                <input class="form-check-input" type="checkbox" disabled>
                <label class="form-check-label" for="total_elevation">Total elevation gain this year</label>
            </div>
            <div class="form-check">
                <input class="form-check-input" type="checkbox" disabled>
                <label class="form-check-label" for="avg_elevation">Average elevation gain per week (last 4 weeks)</label>
            </div>
            <div class="form-check">
                <input class="form-check-input" type="checkbox" disabled>
                <label class="form-check-label" for="avg_pace_year">Average pace per km this year</label>
            </div>
            <div class="form-check">
                <input class="form-check-input" type="checkbox" disabled>
                <label class="form-check-label" for="avg_pace_4weeks">Average pace per km per week (last 4 weeks)</label>
            </div>
            <div class="form-check">
                <input class="form-check-input" type="checkbox" disabled>
                <label class="form-check-label" for="beers_burnt">Number of beers burnt</label>
            </div>
            <div class="form-check">
                <input class="form-check-input" type="checkbox" disabled>
                <label class="form-check-label" for="pizza_burnt">Number of pizza slices burnt</label>
            </div>
            <div class="form-check">
                <input class="form-check-input" type="checkbox" disabled>
                <label class="form-check-label" for="remove_try_free">Remove "try for free at www.blah.com"</label>
            </div>
            <form action="/create-checkout-session" method="POST">
                <button type="submit" class="btn btn-primary">Upgrade to Premium</button>
            </form>
            {% endif %}
            <button type="submit" class="btn btn-primary">Update Preferences</button>
        </form>
        <a href="/deauthorize" class="btn btn-danger">Disconnect from Strava</a>
        <p>Contact us at <a href="mailto:klay@simplifiedanalytics.com.au">klay@simplifiedanalytics.com.au</a></p>
    </div>
</body>
</html>
